(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{8413:function(e,t,a){Promise.resolve().then(a.bind(a,1781))},3600:function(e){e.exports=function(e,t){let a=[];if(t)t=t.slice();else{t=[];for(let a=1;a<=e;a+=1)t.push(a)}e%2==1&&(t.push(-1),e+=1);for(let r=0;r<e-1;r+=1){a[r]=[];for(let n=0;n<e/2;n+=1){let l=e-1-n;if(-1!==t[n]&&-1!==t[l]){let e=0===n&&r%2==1;a[r].push([e?t[l]:t[n],e?t[n]:t[l]])}}t.splice(1,0,t.pop())}return a}},1781:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var r=a(7437),n=a(8778),l=a(2265),i=a(9965),o=a(4010),s=a(6373),u=a(4552),d=a(3807),c=a(5220),m=a(7511),p=a(2112);let h=(0,p.R)(({children:e,className:t,innerEndComponent:a,innerStartComponent:r,orientation:n="horizontal",outerEndComponent:u,outerStartComponent:d,variation:p,...h},g)=>{let f=null!=a,v=null!=r?o.M.FieldGroupHasInnerStart:null,x=f?o.M.FieldGroupHasInnerEnd:null,E=(0,i.A)(o.M.FieldGroup,v,x,(0,s.wq)(o.M.FieldGroup,n),t);return l.createElement(c.k,{className:E,ref:g,...h},d&&l.createElement(m.G,{className:(0,i.A)(o.M.FieldGroupOuterStart,(0,s.wq)(o.M.FieldGroupOuterStart,p))},d),l.createElement(m.G,{className:(0,i.A)(o.M.FieldGroupFieldWrapper,(0,s.wq)(o.M.FieldGroupFieldWrapper,n))},r&&l.createElement(m.G,{className:o.M.FieldGroupInnerStart},r),e,a&&l.createElement(m.G,{className:o.M.FieldGroupInnerEnd},a)),u&&l.createElement(m.G,{className:(0,i.A)(o.M.FieldGroupOuterEnd,(0,s.wq)(o.M.FieldGroupOuterEnd,p))},u))});h.displayName="FieldGroup";var g=a(3268),f=a(4132),v=a(2240),x=a(3881);let E=(0,p.R)((e,t)=>{let{className:a,descriptiveText:r,errorMessage:n,hasError:m=!1,id:p,innerEndComponent:E,innerStartComponent:w,label:F,labelHidden:G=!1,outerEndComponent:y,outerStartComponent:M,size:N,testId:S,variation:b,inputStyles:j,...C}=e,A=(0,x.A)(p),D=(0,x.A)(),T=r?D:void 0,{styleProps:k,rest:I}=(0,v.d)(C);return l.createElement(c.k,{className:(0,i.A)(o.M.Field,(0,s.wq)(o.M.Field,N),o.M.TextField,a),testId:S,...k},l.createElement(f._,{htmlFor:A,visuallyHidden:G},F),l.createElement(u.D,{id:D,labelHidden:G,descriptiveText:r}),l.createElement(h,{outerStartComponent:M,outerEndComponent:y,innerStartComponent:w,innerEndComponent:E,variation:b},l.createElement(g.I,{"aria-describedby":T,hasError:m,id:A,ref:t,size:N,variation:b,...j,...I})),l.createElement(d.d,{hasError:m,errorMessage:n}))});E.displayName="TextField";let w=(0,p.R)(({className:e,orientation:t="horizontal",size:a,label:r,...n},u)=>{let d=(0,i.A)(o.M.Divider,(0,s.wq)(o.M.Divider,t),(0,s.wq)(o.M.Divider,a),e);return l.createElement(m.G,{"aria-orientation":t,as:"hr",className:d,"data-label":r,ref:u,...n})});w.displayName="Divider";var F=a(4668),G=a(3577),y=a(3600),M=a.n(y);let N=async(e,t)=>{let a=[];for(let r of t){let t=await (0,G.MD)(e,r,"".concat(r,"@gmail.com"));a.push(t)}return a},S=async(e,t,a,r)=>{let n=M()(t.length,t.map(e=>e.id));console.log({rrs:n});let l=Array.from(Array(a)).map(async(a,l)=>{let i=r.getTime()+6048e5*l,o=(n[l]?n[l]:n[l-n.length]).map(async a=>{let r=t.find(e=>e.id===a[0]),n=t.find(e=>e.id===a[1]);return console.log("Creating match: ".concat(r.name," vs ").concat(n.name," on ").concat(new Date(i).toISOString())),(0,G.qN)(e,[r,n],new Date(i))});await Promise.all(o)});await Promise.all(l)},b=async(e,t,a,r)=>{let n=await (0,G.Gu)(e),l=await N(n,r);return await S(n,l,a,t),n};var j=a(7907);function C(){let[e,t]=(0,l.useState)(),[a,i]=(0,l.useState)(),[o,s]=(0,l.useState)(),[u,d]=(0,l.useState)(),[c,m]=(0,l.useState)([]),p=(0,j.useRouter)(),h=async()=>{if(!a||!o||!u||!c.length){alert("Invalid league configuration.");return}t(!0),await b(a,o,u,c),t(!1),p.push("/",{scroll:!1})};return e?(0,r.jsx)(n.aN,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E,{descriptiveText:"Descriptive name of the league",placeholder:"A2 Golf Spring 2024",label:"League Name",onChange:e=>{i(e.target.value)}}),(0,r.jsx)(w,{style:{margin:"15px"},orientation:"horizontal"}),(0,r.jsx)(E,{descriptiveText:"Comma separated list of player names",placeholder:"john,jacob,jingleheimer,schmidt",label:"Player Names",onChange:e=>{m(e.target.value.split(",").map(e=>e.trim()))}}),(0,r.jsx)(w,{style:{margin:"15px"},orientation:"horizontal"}),(0,r.jsx)(E,{descriptiveText:"Number of weeks the league will run",placeholder:"4",label:"Number of Weeks",onChange:e=>{d(parseInt(e.target.value))}}),(0,r.jsx)(w,{style:{margin:"15px"},orientation:"horizontal"}),(0,r.jsx)(E,{type:"date",descriptiveText:"The date of the first match",label:"Start date",onChange:e=>{s(new Date(e.target.value))}}),(0,r.jsx)(w,{style:{margin:"15px"},orientation:"horizontal"}),(0,r.jsx)(F.z,{loadingText:"loading",isLoading:e,onClick:()=>h(),children:"Build League!"})]})}}},function(e){e.O(0,[871,380,577,971,69,744],function(){return e(e.s=8413)}),_N_E=e.O()}]);